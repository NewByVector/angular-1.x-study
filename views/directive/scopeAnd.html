<!doctype html>
<html ng-app="MyModule">
	<head>
		<meta charset="utf-8">
	</head>
	<body>
		<div ng-controller="MyCtrl">
			<greeting greet="sayHello(name)"></greeting>
			<greeting greet="sayHello(name)"></greeting>
			<greeting greet="sayHello(name)"></greeting>
		</div>
	</body>
	<script src="../../script/angular-1.3.0.js"></script>
	<script>
		var myModule = angular.module("MyModule", []);
		myModule.controller('MyCtrl', ['$scope', function($scope){
			$scope.sayHello=function(name){
				alert("Hello "+name);
			}
		}])
		myModule.directive("greeting", function() {
		    return {
		    	restrict:'AE',
		        scope:{
		        	greet:'&'
		        },
		        template:'<input type="text" ng-model="userName" /><br/>'+
		        		 '<button class="btn btn-default" ng-click="greet({name:userName})">Greeting</button><br/>'
		    }
		});
	</script>
</html>